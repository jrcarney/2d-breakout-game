<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<title>MDN: 2d breakout game</title>
	<style>
		* {
			padding: 0; 
			margin: 0;
		}

		canvas {
			background: #eee;
			display: block;
			margin: 0 auto;			
		}
	</style>
</head>
<body>
	<canvas id="myCanvas" width="480" height="320"></canvas>

	<script>
	/**
	 * Draw a ball that moves across and up the canvas every 10 milliseconds
	 */

		(function() {

			//debugger

			/********************************************************/
			// # SETUP OUR CANVAS AND PROPERTIES 
			/********************************************************/

			// Store reference to the canvas element
			var canvas = document.getElementById("myCanvas");

			// Store reference to 2D rendering context 
			// - the tool we can use for painting to the Canvas
			var ctx = canvas.getContext("2d");

			// Initial ball position: Define the ball postion on the canvas
			var x = canvas.width/2;
			var y = canvas.height-30;

			// New ball position: 
			// Define the amount the ball should move across and up the canvas
			// NOTE: Changing dxvalues increase
			var dx = 2;
			var dy = -2;
				
			/********************************************************/
			// # THE DRAW LOOP
			/********************************************************/

			/**
			 * Every time we draw the ball, draw it at a new position 
			 */
			var drawBall = function() {
				ctx.beginPath();
				ctx.arc(x, y, 20, 0, Math.PI*2, false);
				ctx.fillStyle = 'blue';
				ctx.fill();
				ctx.closePath();		
			};

			/** 
			 * Clear the canvas clean so no trail is left from the ball moving aross the canvas
			 * After drawBall() does its job, increment x and y so the ball has a new position  
			   every 10 milliseconds
			 */ 
			var draw = function() {			
				ctx.clearRect(0, 0, canvas.width, canvas.height);
				drawBall();
				x += dx;
				y += dy;
			};

			/********************************************************/
			// # ENTER THE DRAW LOOP
			/********************************************************/
			setInterval(draw, 10);
	}());


	</script>

</body>
</html>